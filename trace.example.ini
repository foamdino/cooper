[sample_rate]
# Default sample rate for methods without a specific rate
# Setting to 1 means sample every call; higher values sample every Nth call
rate = 100

[method_signatures]
filters = [
    # Format: class_signature:method_name:method_signature:sample_rate:metrics
    
    # Sample every invocation (rate=1) of the a method in Test class
    # Collect time, memory, and CPU metrics  
    Lcom/github/foamdino/Test;:a:()Ljava/lang/String;:1:time,memory,cpu
    
    # Sample every 10th invocation of the b method in Test class
    # Collect only timing information
    Lcom/github/foamdino/Test;:b:()Ljava/lang/String;:10:time
    
    # Sample all methods in the Test class for comprehensive testing
    # Use '*' as wildcard for method name and signature
    Lcom/github/foamdino/Test;:*:*:1:time,memory,cpu
    
    # Sample the recursive method specifically to test deep call stacks
    Lcom/github/foamdino/Test;:recursiveTest:(I)V:1:time,memory,cpu
    
    # Sample exception-related methods
    Lcom/github/foamdino/Test;:exceptionTest:()V:1:time,memory,cpu
    Lcom/github/foamdino/Test;:throwingMethod:()V:1:time,memory,cpu
    Lcom/github/foamdino/Test;:deepThrowingMethod:()V:1:time,memory,cpu
]

[packages]
include = [
    # Each package is on a separate line
    Lcom/github/foamdino/
    Lorg/springframework/
]

[sample_file_location]
path = "/tmp/method_metrics.txt"

[export]
method = "file" # only support file export for now
interval = 10   # Export metrics every 10 seconds for faster feedback during testing